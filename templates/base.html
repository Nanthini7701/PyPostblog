{% load static %}
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>{% block title %}PyPost{% endblock %}</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css">

  <link rel="stylesheet" href="{% static 'css/style.css' %}">
  {% block extra_head %}{% endblock %}
</head>
<body>

<header class="site-header">
  <div class="container header-inner">
    <a class="brand" href="{% url 'blog:post_list' %}">
      PYPOST
    </a>

    <nav>
      <a href="{% url 'blog:post_list' %}">Home</a>

      {% if user.is_authenticated %}
        <a href="{% url 'blog:post_create' %}">Create</a>

      <div class="dropdown d-inline">
  <a class="dropdown-toggle" style="cursor:pointer;" data-bs-toggle="dropdown">
    <i class="fa-solid fa-user"></i> {{ user.username }}
  </a>
  <ul class="dropdown-menu dropdown-menu-end">
    <li><a class="dropdown-item" href="{% url 'blog:profile' %}">Profile</a></li>
    <li><a class="dropdown-item" href="{% url 'blog:settings' %}">Settings</a></li>
    <form method="post" action="{% url 'logout' %}">
    {% csrf_token %}
    <button class="dropdown-item" type="submit">Logout</button>
</form>
  </ul>
</div>
      {% else %}
        <a href="{% url 'login' %}">Login</a>
        <a href="{% url 'blog:register' %}">Register</a>
      {% endif %}
    </nav>
  </div>
</header>

<main class="container">
  {% if messages %}
    <div class="messages">
      {% for m in messages %}
        <div class="msg {{ m.tags }}">{{ m }}</div>
      {% endfor %}
    </div>
  {% endif %}
  {% block content %}{% endblock %}
</main>

<footer class="site-footer">
  <p>© {{ now|date:"Y" }} PyPost — Made with ❤️</p>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="{% static 'js/main.js' %}"></script>
{% block extra_scripts %}{% endblock %}
</body>
</html>
